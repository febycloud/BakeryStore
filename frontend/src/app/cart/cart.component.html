
<h1>&#160;&#160;YOUR SHOPPING CART</h1>
<form [formGroup]="angForm">
<div formArrayName="orderProducts">
<div class="cart-item" *ngFor="let item of ProductOrder.controls;let i = index">
<br>
<div [formGroupName]="i">
    <mat-card class="card">
    <b>Item:</b>  
    {{ item.controls.productName.value }}<br>
    <b>Price:</b>   
    {{ item.controls.price.value}} &#160;&#160;&#160;&#160;
    <mat-form-field>
        <mat-label>Qty:</mat-label>
        <input matInput type="number" min="0" formControlName="quantity">
      </mat-form-field>
    <br>
    <mat-checkbox formControlName="isGift" >This is a gift</mat-checkbox> &#160;&#160;
    <mat-checkbox formControlName="isDonation">Donate it </mat-checkbox><br>
    <mat-form-field class="comment"> 
    <mat-label>Leave a comment</mat-label>
    <textarea matInput placeholder="I want ..." formControlName="comment" ></textarea>
    </mat-form-field><br>
    <b>SubTotal: </b>
    <input formControlName="subbyitem" matInput type="number" value="{{item.controls.price.value *item.controls.quantity.value}}" #subbyitem> <br>
    </mat-card>
  </div>
</div></div>
<br><br>
<div class="information">
  <mat-card>
    <b>SubTotal:</b><br>
    <b>Tax:</b><br>
    <b>Total:</b><br>

  </mat-card>
<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      Shipping and Payment
    </mat-panel-title>
    <mat-panel-description>
      Type your information
    </mat-panel-description>
  </mat-expansion-panel-header>

  <mat-form-field class="matform">
    <mat-label>Full Name</mat-label>
    <input  matInput  formControlName="customerFullName" #customerFullName></mat-form-field><br>
    <mat-form-field class="matform">
    <mat-label>Phone</mat-label>
    <input matInput placeholder="123-456-7890" formControlName="phone" #phone></mat-form-field><br>
    <mat-form-field class="matform">
    <mat-label>Email</mat-label>
    <input matInput placeholder="abc123@abc.com" formControlName="email" #email></mat-form-field><br>
    <mat-form-field class="matform">
    <mat-label>Address</mat-label>
    <input matInput placeholder="123 King St" formControlName="shippingAddress" #shippingAddress></mat-form-field><br>
    <mat-form-field class="matform">
    <mat-label>Delivery Note</mat-label>
    <input matInput placeholder="Apt number,comments" formControlName="deliveryNote" #deliveryNote></mat-form-field><br>
    <mat-form-field class="matform">
    <mat-label>City</mat-label>
    <input matInput placeholder="City" formControlName="city" #city></mat-form-field><br>
    <mat-form-field class="matform">
    <mat-label>Province</mat-label><mat-select formControlName="province" #province >
    <mat-option *ngFor="let province of provinces" [value]="province.value" >
      {{province.viewValue}}
    </mat-option></mat-select></mat-form-field><br>
    <mat-form-field class="matform">
    <mat-label>Postal Code</mat-label>
    <input matInput placeholder="A9A 5B5" formControlName="postalCode" #postalCode></mat-form-field><br>
    <mat-form-field class="matform">
    <mat-label>Payment Method</mat-label><mat-select formControlName="paymentMethod" #paymentMethod>
      <mat-option *ngFor="let payment of payments" [value]="payment.value" >
        {{payment.value}}
      </mat-option></mat-select></mat-form-field><br>
      <mat-form-field class="matform">
        <mat-label>CardNumber</mat-label>
        <input matInput type="number" placeholder="1234 5678 9012 3456"></mat-form-field><br>
        <mat-form-field class="matform">
          <mat-label>Name on Card</mat-label>
          <input matInput  placeholder="Adam Baker"></mat-form-field><br>
          <mat-form-field class="matform">
            <mat-label>Expired Date</mat-label>
            <input matInput  placeholder="01/25"></mat-form-field><br>
            <mat-form-field class="matform">
              <mat-label>CVV</mat-label>
              <input matInput type="number" placeholder="123"></mat-form-field><br>

              <p>{{angForm.value |json}}</p>
</mat-expansion-panel>
</div>


<br>

<button  type="submit" (click)="addOrder(1,1,1,ProductOrder,paymentMethod.value,customerFullName.value,phone.value,email.value,shippingAddress.value,deliveryNote.value,city.value,province.value,postalCode.value)" class="button"  > Checkout </button><br>
</form>
